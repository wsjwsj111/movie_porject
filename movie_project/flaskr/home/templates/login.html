{% extends 'newbase.html' %}
{% block head %}
    <title>login</title>

{% endblock %}


 {% block style %}
        .login_box_div{
           width: 400px;
            height: 280px;
{#            left: 35%;#}
            margin-top: 100px;
            margin-left: 455px;
            top: 20%;
            background: white;
            border: #277aff solid 1px;
        }
        .login_bar_div{
            background: #277aff;
            height: 45px;
            width: 100%;
            line-height: 45px;
            text-align: left
        }
        form{
            margin-left: 5%;
            margin-top: 10px;
            line-height: 30px;

        }
        .login_input-text{
            width: 93%;
            height: 30px;
            color: #818181;
            margin-bottom:8px;
            border: #277aff solid 1px;

        }
        .login_form_span{
            font-size: 14px;
            color: #4A4A4A;
        }
        .login_err{
            color:red;
        }
 {% endblock %}



 {% block body %}

    <div class="login_box_div">
        <div class="login_bar_div">
            <i class="fa fa-sign-in" aria-hidden="true" style="color: white;margin-left: 20px"></i>
            <span style="margin-left: 5px">会员登录</span>
        </div>
        <form action="/login" method="post">
            <span class="login_form_span">&nbsp;<i class="fa fa-user" aria-hidden="true"></i>&nbsp;帐号<i class="login_err" id="use_id">{{ error }}</i></span><br/>
            <input class="login_input-text" id="usr_input" type="text" name="usr" value placeholder="用户名/邮箱/手机号码"><br/>
            <span class="login_form_span">&nbsp;<i class="fa fa-lock" aria-hidden="true"></i>&nbsp;密码<i class="login_err" id="pwd_id"></i></span><br/>
            <input class="login_input-text"  id="pwd_input" type="text" name="pwd" value placeholder=" 密码"><br/>
            <input id="submit" type="submit" value="登录" style="height: 45px;width: 93%;margin-top: 20px;background-color: #759c27">
        </form>
    </div>

{#<footer>#}
{#    <div class="container">#}
{#        <div class="row">#}
{#            <div class="col-md-12">#}
{#                <p>#}
{#                    ©&nbsp;2017&nbsp;flaskmovie.imooc.com&nbsp;京ICP备 13046642号-2#}
{#                </p>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</footer>#}

 {% endblock %}


 {% block js %}
        $(function(){
            $("input[name='usr']").blur(function(){
                //blur从链接上移开焦点(鼠标离开框时)
                var usrname=this.value;
                console.log(usrname)
                var patt=(/^[a-z_]\w{3,19}$/i)/|(/.*\[@\].*/)/|(/^1[3578]\d{9}$/)
                if(usrname.search(patt) < 0){
                    $("#use_id").text("账号由4-20位字母/数字/下划线组成,数字不能开头");
                }
            });

            $("input[name='usr']").blur(function(){
                //blur从链接上移开焦点(鼠标离开框时)
                var usrname=this.value;
                console.log(usrname)
                var patt=(/.*\[@\].*[.][c][o][m]/)
                if(usrname.search(patt) < 0){
                    $("#use_id").text("帐号标准邮箱格式");
                }
            });

            $("input[name='usr']").blur(function(){
                //blur从链接上移开焦点(鼠标离开框时)
                var usrname=this.value;
                console.log(usrname)
                var patt=(/^1[3578]\d{9}$/)
                if(usrname.search(patt) < 0){
                    $("#use_id").text("帐号11位手机号");
                }
            });

            $("input[name='pwd']").blur(function(){
                //blur从链接上移开焦点(鼠标离开框时)
                var pwd=this.value;
                console.log(pwd)
                var patt1=/^\S{6,16}$/
                if(pwd.search(patt1) < 0){
                    $("#pwd_id").text('密码为6-16位有效字符（非空白字符）')
                }
            });
        });
 {% endblock %}

